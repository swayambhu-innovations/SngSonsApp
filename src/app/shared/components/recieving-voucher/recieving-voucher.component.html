<ion-card>
  <ion-grid>
    <ion-row class="head ion-justify-content-between ion-align-items-center">
      <ion-col size="auto">{{ heading }}</ion-col>
      <ion-col size="auto" *ngIf="showCal">
        <ion-col size="auto" class="cal-icon">
          <label for="selectDate">
            <button>
              <span>
                {{ dateText }}
              </span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="15"
                height="14"
                viewBox="0 0 15 14"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M4.26799 1.16667C4.6048 1.16667 4.87784 1.42784 4.87784 1.75V2.33333H9.75663V1.75C9.75663 1.42784 10.0297 1.16667 10.3665 1.16667C10.7033 1.16667 10.9763 1.42784 10.9763 1.75V2.33333H11.5862C12.5966 2.33333 13.4157 3.11684 13.4157 4.08333V11.0833C13.4157 12.0498 12.5966 12.8333 11.5862 12.8333H3.0483C2.03787 12.8333 1.21875 12.0498 1.21875 11.0833V4.08333C1.21875 3.11684 2.03787 2.33333 3.0483 2.33333H3.65814V1.75C3.65814 1.42784 3.93118 1.16667 4.26799 1.16667ZM9.75663 3.5V4.08333C9.75663 4.4055 10.0297 4.66667 10.3665 4.66667C10.7033 4.66667 10.9763 4.4055 10.9763 4.08333V3.5H11.5862C11.923 3.5 12.196 3.76117 12.196 4.08333V5.83333H2.43845V4.08333C2.43845 3.76117 2.71149 3.5 3.0483 3.5H3.65814V4.08333C3.65814 4.4055 3.93118 4.66667 4.26799 4.66667C4.6048 4.66667 4.87784 4.4055 4.87784 4.08333V3.5H9.75663ZM2.43845 7V11.0833C2.43845 11.4055 2.71149 11.6667 3.0483 11.6667H11.5862C11.923 11.6667 12.196 11.4055 12.196 11.0833V7H2.43845Z"
                  fill="#1540BD"
                />
              </svg>
              <input id="selectDate" type="date" (change)="onChange($event)" />
            </button>
          </label>
        </ion-col>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="19"
          height="17"
          viewBox="0 0 19 17"
          fill="none"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.0268 3.42093C10.366 1.91471 11.5623 0.801758 12.9861 0.801758C14.4099 0.801758 15.6062 1.91471 15.9454 3.42093H17.5689C17.9911 3.42093 18.3333 3.80845 18.3333 4.29399C18.3333 4.77617 17.9915 5.16705 17.5689 5.16705H15.9454C15.6062 6.67327 14.4099 7.78622 12.9861 7.78622C11.5623 7.78622 10.366 6.67327 10.0268 5.16705H0.764419C0.342242 5.16705 0 4.77953 0 4.29399C0 3.81181 0.341817 3.42093 0.764419 3.42093H10.0268ZM2.38793 12.1515C2.72713 10.6453 3.92346 9.53234 5.34722 9.53234C6.77099 9.53234 7.96732 10.6453 8.30651 12.1515H17.5689C17.9911 12.1515 18.3333 12.539 18.3333 13.0246C18.3333 13.5067 17.9915 13.8976 17.5689 13.8976H8.30651C7.96732 15.4038 6.77099 16.5168 5.34722 16.5168C3.92346 16.5168 2.72713 15.4038 2.38793 13.8976H0.764419C0.342242 13.8976 0 13.5101 0 13.0246C0 12.5424 0.341817 12.1515 0.764419 12.1515H2.38793ZM5.34722 14.7707C6.19099 14.7707 6.875 13.9889 6.875 13.0246C6.875 12.0602 6.19099 11.2785 5.34722 11.2785C4.50345 11.2785 3.81944 12.0602 3.81944 13.0246C3.81944 13.9889 4.50345 14.7707 5.34722 14.7707ZM12.9861 6.0401C13.8299 6.0401 14.5139 5.25834 14.5139 4.29399C14.5139 3.32964 13.8299 2.54787 12.9861 2.54787C12.1423 2.54787 11.4583 3.32964 11.4583 4.29399C11.4583 5.25834 12.1423 6.0401 12.9861 6.0401Z"
            fill="#1540BD"
          />
        </svg>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-searchbar
    class="ion-text-start custom"
    animated="true"
    (ionInput)="searchShipments($event)"
    placeholder="Search {{ search }}"
  ></ion-searchbar>

  <ion-grid>
    <ion-row
      class="disabled-row ion-justify-content-between ion-align-items-center"
    >
      <ion-col size="0.75"></ion-col>
      <ion-col size="{{ header.size }}" *ngFor="let header of tableData">{{
        header.name
      }}</ion-col>
      <ion-col size="0.75"></ion-col>
    </ion-row>

    <ion-row
      (click)="openRecievingDetail(recieving)"
      class="ion-justify-content-between ion-align-items-center"
      *ngFor="let recieving of filteredReceivings; index as i"
      [ngClass]="{ 'd-none': i > 4 && !showAll }"
    >
      <ion-col size="0.75">
        <svg
          width="15"
          height="16"
          viewBox="0 0 15 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.1542 15.3208C10.2253 15.3208 9.4375 14.9975 8.79083 14.3508C8.14417 13.7031 7.82083 12.9153 7.82083 11.9875C7.82083 11.0597 8.14417 10.2719 8.79083 9.62417C9.4375 8.9775 10.2253 8.65417 11.1542 8.65417C12.0819 8.65417 12.8694 8.9775 13.5167 9.62417C14.1639 10.2708 14.4875 11.0586 14.4875 11.9875C14.4875 12.9158 14.1639 13.7036 13.5167 14.3508C12.8694 14.9981 12.0819 15.3214 11.1542 15.3208ZM12.5333 13.8225L12.9892 13.3675L11.4742 11.8525V9.58333H10.8333V12.1225L12.5333 13.8225ZM1.34583 14.4875C0.973611 14.4875 0.656111 14.3564 0.393333 14.0942C0.131111 13.8319 0 13.5144 0 13.1417V2.5C0 2.12778 0.131111 1.81028 0.393333 1.5475C0.655556 1.28528 0.973055 1.15417 1.34583 1.15417H5.21C5.28778 0.828056 5.46083 0.554167 5.72917 0.3325C5.9975 0.110833 6.31 0 6.66667 0C7.03 0 7.345 0.111111 7.61167 0.333333C7.87833 0.554444 8.05056 0.828056 8.12833 1.15417H11.9867C12.36 1.15417 12.6778 1.28528 12.94 1.5475C13.2022 1.80972 13.3333 2.12722 13.3333 2.5V7.51667C13.19 7.44278 13.0544 7.37806 12.9267 7.3225C12.7989 7.26694 12.6567 7.21722 12.5 7.17333V2.5C12.5 2.37222 12.4467 2.25472 12.34 2.1475C12.2328 2.04083 12.1153 1.9875 11.9875 1.9875H10V3.84583H3.33333V1.9875H1.34583C1.21806 1.9875 1.10056 2.04083 0.993333 2.1475C0.886667 2.25472 0.833333 2.37222 0.833333 2.5V13.1417C0.833333 13.2911 0.881389 13.4139 0.9775 13.51C1.07361 13.6061 1.19639 13.6542 1.34583 13.6542H6.45167C6.49611 13.8097 6.54861 13.9544 6.60917 14.0883C6.67028 14.2217 6.74806 14.3547 6.8425 14.4875H1.34667H1.34583ZM6.66667 2.17917C6.86 2.17917 7.02056 2.11556 7.14833 1.98833C7.27611 1.86056 7.34 1.7 7.34 1.50667C7.34 1.31333 7.27611 1.15278 7.14833 1.025C7.02056 0.897222 6.86 0.833333 6.66667 0.833333C6.47333 0.833333 6.31278 0.897222 6.185 1.025C6.05722 1.15278 5.99333 1.31333 5.99333 1.50667C5.99333 1.7 6.05722 1.86056 6.185 1.98833C6.31278 2.11611 6.47333 2.17917 6.66667 2.17917Z"
            fill="#1784EC"
          />
        </svg>
      </ion-col>
      <ion-col size="4">{{ recieving._1 }}</ion-col>
      <ion-col size="3">{{ recieving._2 }}</ion-col>
      <ion-col size="3">{{ recieving._3 }}</ion-col>
      <ion-col size="0.75">
        <ion-icon name="chevron-forward-outline"></ion-icon>
      </ion-col>
    </ion-row>

    <!-- <ion-row class="ion-justify-content-end ion-align-items-center">
      <ion-col class="see-more" (click)="showMoreShipments" size="auto">See more</ion-col>
    </ion-row> -->

    <ion-row
      class="ion-justify-content-between ion-align-items-center no-records"
      *ngIf="filteredReceivings.length == 0"
    >
      <ion-col>No Records Found</ion-col>
    </ion-row>

    <ion-row
      id="view-more"
      class="ion-justify-content-between ion-align-items-center"
      *ngIf="filteredReceivings.length > 5"
    >
      <ion-col size="auto"></ion-col>
      <ion-col style="cursor: pointer" size="auto" (click)="showAll = !showAll">
        <span *ngIf="!showAll">View More</span>
        <span *ngIf="showAll">View Less</span>
        <ion-icon name="chevron-forward-outline"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-card>
