"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6989],{6989:(U,m,l)=>{l.r(m),l.d(m,{VendorMasterModule:()=>S});var b=l(6814),c=l(95),s=l(6458),_=l(6208),f=l(9599),g=l(5861),u=l(3467),t=l(6689),M=l(169),h=l(6725),P=l(5148),C=l(638),x=l(74),O=l(1326);function v(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"div",16)(1,"div",3)(2,"div",17),t._UZ(3,"img",18),t.qZA(),t.TgZ(4,"div",19)(5,"p",20),t._uU(6),t.qZA(),t.TgZ(7,"p",21)(8,"span"),t._UZ(9,"img",22),t.qZA(),t.TgZ(10,"span",23),t._uU(11),t.qZA(),t._uU(12," | "),t.TgZ(13,"span",24),t._uU(14),t.qZA()()(),t.TgZ(15,"div",25)(16,"div",26)(17,"label",27)(18,"input",28),t.NdJ("change",function(e){const a=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.updLabourStatus(e,a.id,!a.active))}),t.qZA(),t._UZ(19,"span",29),t.qZA()(),t.TgZ(20,"div",30),t.NdJ("click",function(e){const a=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.editDetails(e,a))}),t._UZ(21,"img",31),t.qZA(),t.TgZ(22,"div",32),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw();return a.toDelete={id:i.id},t.KtG(a.showConfirm=!0)}),t._UZ(23,"img",33),t.qZA()()()()}if(2&r){const o=d.$implicit;t.xp6(3),t.Q6J("src",o.labourProfileImg,t.LSH),t.xp6(3),t.Oqu(null==o?null:o.labourPartyName),t.xp6(5),t.Oqu(null==o?null:o.paymentAcc),t.xp6(3),t.hij("\u20b9 ",null==o?null:o.paymentDispenseLimits,""),t.xp6(4),t.Q6J("checked",null==o?null:o.active)}}function w(r,d){if(1&r&&(t.TgZ(0,"ion-select-option",59),t._uU(1),t.qZA()),2&r){const o=d.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function Z(r,d){if(1&r){const o=t.EpF();t.TgZ(0,"section")(1,"header")(2,"div",34)(3,"div",35),t._uU(4,"Add Labour Party"),t.qZA()()(),t.TgZ(5,"form",36),t.NdJ("ngSubmit",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.onSubmit())}),t.TgZ(6,"div",37)(7,"ion-item",38),t._UZ(8,"ion-input",39),t.qZA(),t.TgZ(9,"ion-item",38),t._UZ(10,"ion-input",40),t.qZA(),t.TgZ(11,"ion-item",41)(12,"ion-select",42),t.YNc(13,w,2,2,"ion-select-option",43),t.qZA()(),t.TgZ(14,"div",44)(15,"div",45)(16,"div",46)(17,"ion-button",47)(18,"label",48),t._uU(19," Upload Photo or Logo "),t.O4$(),t.TgZ(20,"svg",49),t._UZ(21,"path",50),t.qZA()()(),t.kcU(),t.TgZ(22,"input",51),t.NdJ("change",function(e){t.CHM(o);const i=t.oxw();return t.KtG(i.uploadPic(e))}),t.qZA()(),t.TgZ(23,"div",52)(24,"ion-button",53),t.NdJ("click",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.removePic())}),t.TgZ(25,"label"),t._uU(26," Remove "),t._UZ(27,"img",54),t.qZA()()()(),t.TgZ(28,"div",55),t._UZ(29,"img",56),t.qZA()()(),t.TgZ(30,"div",57)(31,"div")(32,"ion-button",58),t._uU(33,"Submit"),t.qZA(),t.TgZ(34,"ion-button",53),t.NdJ("click",function(){t.CHM(o);const e=t.oxw(),i=t.MAs(19);return e.closeModal(),t.KtG(i.dismiss())}),t._uU(35,"Cancel"),t.qZA()()()()()}if(2&r){const o=t.oxw();t.xp6(5),t.Q6J("formGroup",o.labourForm),t.xp6(8),t.Q6J("ngForOf",o.paymentMethod),t.xp6(16),t.Q6J("src",o.labourPicSrc,t.LSH)}}const y=function(){return[0,1]},L=[{path:"",component:(()=>{var r;class d{constructor(n,e,i,a,p,A){var k=this;this.labourMasterService=n,this.loadingController=e,this.notificationService=i,this.modalController=a,this.sharedService=p,this.fileuploadService=A,this.isModalOpen=!1,this.config=u.D,this.showConfirm=!1,this.isSearching=!1,this.labourForm=new c.cw({labourPartyName:new c.NI("",[c.kI.required]),paymentDispenseLimits:new c.NI("",[c.kI.required]),paymentAcc:new c.NI(null,[c.kI.required]),labourProfileImg:new c.NI,active:new c.NI(!0,[]),createdAt:new c.NI(new Date,[]),id:new c.NI("")}),this.paymentMethod=["Paytm","PhonePe","Google Pay","Bhim UPI"],this.labourPicSrc=u.D.url.defaultProfile,this.canDismiss=(0,g.Z)(function*(){return k.closeModal(),!0}),this.sharedService.refresh.subscribe(N=>{N&&this.init()})}ngOnInit(){var n=this;return(0,g.Z)(function*(){n.loader=yield n.loadingController.create({message:u.D.messages.pleaseWait}),n.init()})()}get f(){return this.labourForm.controls}init(){var n=this;return(0,g.Z)(function*(){var e;null===(e=n.loader)||void 0===e||e.present(),yield n.getLabourParty(),n.loader.dismiss()})()}uploadPic(n){var e=this;return(0,g.Z)(function*(){e.file=n.target.files[0];const i=new FileReader;i.readAsDataURL(e.file),i.onload=()=>{e.labourPicSrc=i.result}})()}removePic(){this.labourPicSrc=u.D.url.defaultProfile}closeModal(){this.labourForm.reset(),this.removePic(),this.isModalOpen=!1}getLabourParty(){var n=this;return(0,g.Z)(function*(){const e=yield n.labourMasterService.getLabourParty();n.labourData=e.docs.map(i=>({...i.data(),id:i.id})),n.filteredLabours=n.labourData})()}updLabourStatus(n,e,i){var a=this;return(0,g.Z)(function*(){n.stopPropagation(),a.loader.present(),yield a.labourMasterService.updLabourType(e,i),yield a.getLabourParty(),a.loader.dismiss()})()}searchLabour(n){const e=n.detail.value;this.filteredLabours=e&&""!==e.trim()?this.labourData.filter(i=>i.labourPartyName.toLowerCase().includes(e.toLowerCase())):this.labourData}editDetails(n,e){var i=this;return(0,g.Z)(function*(){var a;n.stopPropagation(),i.labourForm.setValue(e),i.labourPicSrc=null===(a=i.labourForm.value)||void 0===a?void 0:a.labourProfileImg,i.isModalOpen=!0})()}deleteLabourParty(n){var e=this;return(0,g.Z)(function*(){n&&(e.loader.present(),yield e.labourMasterService.deleteLabourParty(e.toDelete.id),yield e.getLabourParty(),e.loader.dismiss(),e.notificationService.showSuccess(e.config.messages.deletedSuccessfully)),e.showConfirm=!1})()}onSubmit(){var n=this;return(0,g.Z)(function*(){if(n.labourForm.invalid)n.labourForm.markAllAsTouched();else try{if(n.loader.present(),n.file){const e=yield n.fileuploadService.uploadFile(n.file);n.labourForm.patchValue({labourProfileImg:e})}else n.labourForm.patchValue({labourProfileImg:n.labourPicSrc});yield n.labourMasterService.addLabourParty(n.labourForm.value),n.labourForm.reset(),n.removePic(),yield n.getLabourParty(),n.notificationService.showSuccess(""==n.labourForm.controls.id.value?n.config.messages.addedSuccessfully:n.config.messages.updatedSuccessfully),n.isModalOpen=!1,n.modalController.dismiss()}catch(e){return console.log(e),void n.notificationService.showError("Something Went Wrong")}})()}}return(r=d).\u0275fac=function(n){return new(n||r)(t.Y36(M.v),t.Y36(s.HT),t.Y36(h.g),t.Y36(s.IN),t.Y36(P.F),t.Y36(C.T))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-labour-master"]],decls:22,vars:7,consts:[[1,"vendor-container"],["headerName","Labours"],[1,"add-vehicle-wrapper-container"],[1,"inner-container"],[1,"label"],["id","set-labour-modal",1,"button"],[1,"button-name"],[1,"symbol"],["src","assets/icon/plus-button.svg","alt",""],[1,"search-bar"],["animated","true","placeholder","Search Labours...",1,"ion-text-start","custom",3,"ionInput"],["class","row-data-wrapper-container",4,"ngFor","ngForOf"],[1,"below-space"],["trigger","set-labour-modal",1,"model",3,"isOpen","canDismiss","initialBreakpoint","breakpoints"],["modal",""],[3,"show","event"],[1,"row-data-wrapper-container"],[1,"img"],["alt","avatar",3,"src"],[1,"data-text"],[1,"text-name"],[1,"address"],["src","assets/icon/notes.svg","alt",""],[1,"no"],[1,"price"],[1,"action-button"],[1,"toogle"],[1,"switch"],["type","checkbox",3,"checked","change"],[1,"slider","round"],[1,"edit-button",3,"click"],["src","assets/icon/enable-edit-button.svg","alt","edit"],[1,"delete",3,"click"],["src","assets/icon/enable-delete-button.svg","alt","delete"],[1,"header"],[1,"head"],[3,"formGroup","ngSubmit"],[1,"container"],["lines","none",1,"Variable"],["lines","none","label","Labor Party Name","required","","formControlName","labourPartyName","labelPlacement","floating",1,"custom"],["lines","none","label","Payment Dispense Max-limits","required","true","formControlName","paymentDispenseLimits","labelPlacement","floating",1,"custom"],[1,"dropdown"],["formControlName","paymentAcc","label","Default Payment Account"],[3,"value",4,"ngFor","ngForOf"],[1,"container","margin-top-0"],[1,"import-container"],[1,"import"],["shape","round"],["for","uploadLabourPic"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20","fill","none"],["d","M3.33268 15.8333H16.666V10H18.3327V16.6667C18.3327 17.1269 17.9596 17.5 17.4993 17.5H2.49935C2.03912 17.5 1.66602 17.1269 1.66602 16.6667V10H3.33268V15.8333ZM10.8327 7.5V13.3333H9.16602V7.5H4.99935L9.99935 2.5L14.9993 7.5H10.8327Z","fill","#1540BD"],["type","file","id","uploadLabourPic","accept","image/x-png,image/gif,image/jpeg",2,"display","none",3,"change"],[1,"export"],["shape","round",3,"click"],["src","assets/icon/enable-delete-button.svg","alt",""],[1,"preview-box"],["alt","labour-pic-png",3,"src"],[1,"tab-bar"],["shape","round","type","submit",1,"active-btn"],[3,"value"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-content",0),t._UZ(1,"app-header",1),t.TgZ(2,"section")(3,"div",2)(4,"div",3)(5,"div",4),t._uU(6,"Create New Labours group's"),t.qZA(),t.TgZ(7,"div",5)(8,"p",6),t._uU(9,"Add Labours"),t.qZA(),t.TgZ(10,"p",7),t._UZ(11,"img",8),t.qZA()()()()(),t.TgZ(12,"section")(13,"div",9)(14,"ion-searchbar",10),t.NdJ("ionInput",function(a){return e.searchLabour(a)}),t.qZA()()(),t.TgZ(15,"section"),t.YNc(16,v,24,5,"div",11),t.qZA(),t._UZ(17,"div",12),t.TgZ(18,"ion-modal",13,14),t.YNc(20,Z,36,3,"ng-template"),t.qZA(),t.TgZ(21,"app-confirmation",15),t.NdJ("event",function(a){return e.deleteLabourParty(a)}),t.qZA()()),2&n&&(t.xp6(16),t.Q6J("ngForOf",e.filteredLabours),t.xp6(2),t.Q6J("isOpen",e.isModalOpen)("canDismiss",e.canDismiss)("initialBreakpoint",1)("breakpoints",t.DdM(6,y)),t.xp6(3),t.Q6J("show",e.showConfirm))},dependencies:[b.sg,x.G,O.S,c._Y,c.JJ,c.JL,c.Q7,c.sg,c.u,s.YG,s.W2,s.pK,s.Ie,s.VI,s.t9,s.n0,s.ki,s.QI,s.j9],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.vendor-container[_ngcontent-%COMP%]{--background: linear-gradient( 180deg, #d5e6ff -8.94%, #fff 27.36%, #fff 61.93%, #c9deff 101.69% );--padding-top: 15px;--padding-bottom: 15px;--padding-start: 15px;--padding-end: 15px}ion-col[_ngcontent-%COMP%]{padding:0}.wrapper-container[_ngcontent-%COMP%]{border-radius:10px;box-shadow:2px 2px 5px 2px #357af81a;background-color:#fefefe;filter:drop-shadow(0px 4px 10px rgba(53,122,248,.1))}ion-grid[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}ion-grid[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-end: 0px;--inner-padding-end: 0px;--padding-start: 0px;--inner-padding-start: 0px}ion-grid[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:var(--Primary, #1540bd);font-size:14px;font-weight:400;padding-bottom:3px;padding-left:5px}ion-grid[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .add-variable[_ngcontent-%COMP%]{border-radius:25.938px;background:var(--Primary, #1540bd);display:flex;width:105px;height:27px;padding:8.3px;justify-content:center;align-items:center}ion-grid[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .add-variable[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--Text2, #fff);font-size:11px;font-weight:400;margin:0}ion-grid[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .add-variable[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-bottom:0;margin-left:10px;margin-top:2px}ion-grid[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:end}ion-grid[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;border-bottom:1px solid #e0e8f8}ion-grid[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:1px solid #1540bd}ion-grid[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--Text1, #505e86);font-size:16px;font-weight:400;text-wrap:wrap}ion-grid[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .type-select[_ngcontent-%COMP%]{color:#31bd58;font-size:13px;font-weight:400}ion-grid[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{text-align:right}ion-grid[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:9px;margin-right:9px}ion-grid[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]:nth-of-type(1){padding-top:0}ion-grid[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]:last-child{border-bottom:none}ion-grid[_ngcontent-%COMP%]   .disabled-row[_ngcontent-%COMP%]{color:var(--Text3, #9fa7b2);font-size:13px;font-weight:400}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{color:var(--Text1, #505e86);font-size:13px;font-weight:400;background-color:transparent;filter:drop-shadow(0px 4px 10px rgba(53,122,248,.1));-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px)}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-overflow:ellipsis;text-wrap:nowrap}.switch[_ngcontent-%COMP%]{width:20px;height:12px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0px;height:15px}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{height:6px;width:6px;left:3px;top:3px;bottom:4px;border-radius:50%}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(9px)}.search-bar[_ngcontent-%COMP%]{margin-top:10px}.search-bar[_ngcontent-%COMP%]   ion-searchbar.custom[_ngcontent-%COMP%]{--placeholder-color: #1540bd;--icon-color: #1540bd;--clear-button-color: #1540bd;--background: transparent;--filter: drop-shadow(0px 4px 10px rgba(53, 122, 248, .1));--backdrop-filter: blur(25px);--box-shadow: 0px 0px 0px 1px rgba(206, 211, 241, .62);--border-radius: 50px;--color: #1540bd;font-size:12px;font-weight:400;padding-inline-start:0px;padding-inline-end:0px}.model[_ngcontent-%COMP%]{--background: white}.model[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:15px}.model[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:5px 10px 20px;text-align:center}.model[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{color:var(--Primary, #1540bd);font-size:20px;font-weight:400;padding-top:8px;padding-left:10px}.model[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ion-input.custom[_ngcontent-%COMP%]{--background: transparent;--color: var(--Text3, #9fa7b2);--placeholder-color: #ddd;--placeholder-opacity: .8}.model[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .Variable[_ngcontent-%COMP%]{margin-bottom:15px}.model[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:12px;--background: #fff;border:1px solid rgba(206,211,241,.62)}.model[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{margin-bottom:15px;height:48px;color:var(--Text3, #9fa7b2)}.model[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .limit[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.model[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .limit[_ngcontent-%COMP%]   .lower[_ngcontent-%COMP%], .model[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .limit[_ngcontent-%COMP%]   .upper[_ngcontent-%COMP%]{width:48%;height:56px}.model[_ngcontent-%COMP%]   .tab-bar[_ngcontent-%COMP%]{width:calc(100% - 20px)}.model[_ngcontent-%COMP%]   .tab-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;background:rgba(168,205,255,.29);align-items:center;width:-moz-fit-content;width:fit-content;height:56px;padding:8px;margin-inline:auto;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);margin-top:20px;border-radius:60px}.model[_ngcontent-%COMP%]   .tab-bar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:flex;width:-moz-fit-content;width:fit-content;font-size:14px;height:40px;justify-content:center;align-items:center;--border-radius: 50px;--background: #fff;--color: #1540bd}.model[_ngcontent-%COMP%]   .tab-bar[_ngcontent-%COMP%]   .active-btn[_ngcontent-%COMP%]{--background: #1540bd !important;--color: #fff !important;margin-right:10px}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--Primary, #1540bd);font-size:16px;font-weight:400}.container[_ngcontent-%COMP%]   .import-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .import-container[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%]{width:61%}.container[_ngcontent-%COMP%]   .import-container[_ngcontent-%COMP%]   .export[_ngcontent-%COMP%]{width:35%}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;color:#1540bd;--background: white;--box-shadow: 0 2px 6px 0 rgb(0, 0, 0, .25);--ripple-color: #c9deff;--padding-top: 16px;--padding-bottom: 16px}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;text-transform:none}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:6px}.margin-top-0[_ngcontent-%COMP%]{margin-top:0}.invalid-feedback[_ngcontent-%COMP%]{color:red;font-size:12px}"]}),d})()}];let T=(()=>{var r;class d{}return(r=d).\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[f.Bz.forChild(L),f.Bz]}),d})(),S=(()=>{var r;class d{}return(r=d).\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[b.ez,_.m,c.u5,c.UX,s.Pc,T]}),d})()}}]);