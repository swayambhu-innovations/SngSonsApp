"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5513],{5513:(Z,m,i)=>{i.r(m),i.d(m,{LoginPageModule:()=>y});var f=i(6814),a=i(95),g=i(6458),u=i(9599),d=i(5861),p=i(3467),v=i(9339),P=i(2637),n=i(6689),O=i(6725),C=i(8312);function M(o,s){if(1&o){const r=n.EpF();n.TgZ(0,"ion-button",12),n.NdJ("click",function(){n.CHM(r);const e=n.oxw();return n.KtG(e.requestOTP())}),n._uU(1,"Request OTP"),n.qZA()}if(2&o){const r=n.oxw();n.Q6J("disabled",!r.isValidNumber)}}function x(o,s){1&o&&(n.TgZ(0,"ion-item",6),n._UZ(1,"ion-icon",13)(2,"ion-input",14),n.qZA())}function b(o,s){if(1&o){const r=n.EpF();n.TgZ(0,"ion-button",12),n.NdJ("click",function(){n.CHM(r);const e=n.oxw();return n.KtG(e.submitOTP())}),n._uU(1,"Log In"),n.qZA()}if(2&o){const r=n.oxw();n.Q6J("disabled",!r.isValidOTP)}}const L=[{path:"",component:(()=>{var o;class s{constructor(t,e,l,c,h){this.notification=t,this.loginPermissionService=e,this.loadingController=l,this.auth=c,this.router=h,this.loginForm=new a.cw({phone:new a.NI("",[a.kI.required,a.kI.maxLength(10),a.kI.minLength(10)]),otp:new a.NI("")}),this.otpConfirmation=null}ngOnInit(){var t=this;return(0,d.Z)(function*(){t.loader=yield t.loadingController.create({message:p.D.messages.pleaseWait}),setTimeout(()=>{t.recaptchaVerifier=new v.lI(t.auth,"recaptcha-container",{size:"invisible"}),t.resetRecaptchaVerifier()},1e3),t.loginPermissionService.redirectUser(t.loader)})()}resetRecaptchaVerifier(){var t;null===(t=this.recaptchaVerifier)||void 0===t||t.render().then(e=>{this.recaptchaWidgetId=e})}get isValidNumber(){var t;return 10==(null===(t=this.loginForm.value.phone)||void 0===t||null===(t=t.toString())||void 0===t?void 0:t.length)}get isValidOTP(){var t;return this.loginForm.value.otp&&(null===(t=this.loginForm.value.otp.toString())||void 0===t?void 0:t.length)>0}limitInputLength(t,e=10){t.target.value.length>=e&&t.preventDefault()}requestOTP(t=!1){var e=this;return(0,d.Z)(function*(){const l=e.loginForm.value.phone;l&&(t&&e.resetRecaptchaVerifier(),e.loader.present(),e.recaptchaVerifier&&(yield(0,P.$g)(e.auth,`+91${l}`,e.recaptchaVerifier).then(c=>{e.otpConfirmation=c,e.loginPermissionService.showOtp=!0}).catch(c=>{e.resetRecaptchaVerifier(),e.notification.showError(p.D.messages.smsError)})),e.loader.dismiss())})()}submitOTP(){var t=this;return(0,d.Z)(function*(){const e=t.loginForm.value.otp;e&&(t.loader.present(),yield t.otpConfirmation.confirm(e).then(function(){var l=(0,d.Z)(function*(c){const h={...c.user,phoneNumber:c.user.phoneNumber.replace("+91","")};t.loginPermissionService.setLocal(h),yield t.loginPermissionService.redirectUser(t.loader),t.loader.dismiss()});return function(c){return l.apply(this,arguments)}}()).catch(l=>{t.loader.dismiss(),t.notification.showError(p.D.messages.invalidOTP)}))})()}}return(o=s).\u0275fac=function(t){return new(t||o)(n.Y36(O.g),n.Y36(C.O),n.Y36(g.HT),n.Y36(P.gx),n.Y36(u.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],decls:13,vars:5,consts:[[3,"fullscreen"],[1,"login-section","ion-padding"],["align","center",1,"ion-padding","ion-margin-bottom"],["src","../assets/images/logo.png","alt","Logo"],["align","center",1,"login-credentials","ion-padding"],[3,"formGroup"],[1,"ion-margin-vertical","input-text"],["name","person"],["formControlName","phone","type","number","placeholder","Contact Number",1,"ion-margin-start",3,"keypress"],["shape","round",3,"disabled","click",4,"ngIf"],["class","ion-margin-vertical input-text",4,"ngIf"],["id","recaptcha-container"],["shape","round",3,"disabled","click"],["name","lock-open"],["formControlName","otp","placeholder","OTP",1,"ion-margin-start"]],template:function(t,e){1&t&&(n.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),n._UZ(3,"img",3),n.qZA(),n.TgZ(4,"div",4)(5,"form",5)(6,"ion-item",6),n._UZ(7,"ion-icon",7),n.TgZ(8,"ion-input",8),n.NdJ("keypress",function(c){return e.limitInputLength(c)}),n.qZA()(),n.YNc(9,M,2,1,"ion-button",9),n.YNc(10,x,3,0,"ion-item",10),n.YNc(11,b,2,1,"ion-button",9),n.qZA(),n._UZ(12,"div",11),n.qZA()()()),2&t&&(n.Q6J("fullscreen",!0),n.xp6(5),n.Q6J("formGroup",e.loginForm),n.xp6(4),n.Q6J("ngIf",!e.loginPermissionService.showOtp),n.xp6(1),n.Q6J("ngIf",e.loginPermissionService.showOtp),n.xp6(1),n.Q6J("ngIf",e.loginPermissionService.showOtp))},dependencies:[f.O5,a._Y,a.JJ,a.JL,g.YG,g.W2,g.gu,g.pK,g.Ie,g.as,g.j9,a.sg,a.u],styles:["*[_ngcontent-%COMP%]{font-family:Merge One}*[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#1540bd}*[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{width:100%;display:contents;--padding-start: 10px !important}ion-content[_ngcontent-%COMP%]{--background: linear-gradient( 164deg, #d5e6ff -.3%, #fff 31.71%, #fff 62.19%, #c9deff 97.25% )}ion-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{width:300px;height:50px;border-radius:30px;margin:20px 0}ion-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:300px;height:-moz-fit-content;height:fit-content;color:#fff;--background: #1540bd;--box-shadow: 0 2px 6px 0 rgb(0, 0, 0, .25);--ripple-color: #c9deff;--border-color: #b1c3cb;--border-style: solid;--border-width: 1px;--padding-top: 16px;--padding-bottom: 16px}ion-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{border:1px solid var(--Secondary, #b1c3cb);margin:16px 0}ion-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--Buttons, #1659be);font-family:Merge One;font-size:16px;font-weight:400;text-decoration:none}ion-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   ion-button[shape=circle][_ngcontent-%COMP%]{--border-radius: 50%;height:60px;--border-color: #1540bd;--border-style: solid;--border-width: 2px}ion-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .resend-otp[_ngcontent-%COMP%]{color:#00f;text-decoration:underline;text-align:right;padding-right:35px}"]}),s})()},{path:"error",loadChildren:()=>i.e(2628).then(i.bind(i,2628)).then(o=>o.AccountErrorPageModule)},{path:"reset-password",loadChildren:()=>i.e(1873).then(i.bind(i,1873)).then(o=>o.ResetPasswordPageModule)}];let T=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[u.Bz.forChild(L),u.Bz]}),s})(),y=(()=>{var o;class s{}return(o=s).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[f.ez,a.u5,g.Pc,T,a.UX]}),s})()}}]);