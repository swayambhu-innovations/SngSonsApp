"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4020],{4020:(U,d,i)=>{i.r(d),i.d(d,{ImportExportModule:()=>O});var g=i(6814),s=i(6458),h=i(6208),f=i(95),m=i(9599),u=i(5861),x=i(3467),t=i(6689),Z=i(3210),v=i(3109),C=i(6725),M=i(8889),E=i(74);function S(e,p){if(1&e){const l=t.EpF();t.TgZ(0,"section")(1,"div",16)(2,"p",4),t._uU(3," ZSD Excel File "),t.qZA(),t.TgZ(4,"div",5)(5,"div",6)(6,"ion-button",7)(7,"label",8),t._uU(8," Import "),t.O4$(),t.TgZ(9,"svg",9),t._UZ(10,"path",10),t.qZA()()(),t.kcU(),t.TgZ(11,"input",17),t.NdJ("change",function(o){t.CHM(l);const c=t.oxw();return t.KtG(c.excelUploadService.parseExcel(o,c.addZSD,c))}),t.qZA()(),t.TgZ(12,"div",12)(13,"ion-button",7)(14,"label",8),t._uU(15," Export Blank "),t.O4$(),t.TgZ(16,"svg",9),t._UZ(17,"path",13),t.qZA()()(),t.kcU(),t._UZ(18,"input",11),t.qZA()()()()}}const T=[{path:"",component:(()=>{var e;class p{constructor(n,o,c,a,r){this.excelUploadService=n,this.importExportService=o,this.notification=c,this.loadingController=a,this.homeService=r,this.vehicles={},this.vendors={}}ngOnInit(){var n=this;return(0,u.Z)(function*(){n.loader=yield n.loadingController.create({message:x.D.messages.pleaseWait}),yield n.init()})()}init(){var n=this;return(0,u.Z)(function*(){n.loader.present(),(yield n.importExportService.getAllVehicles()).docs.map(o=>(n.vehicles[o.id]={...o.data(),id:o.id},{...o.data(),id:o.id})),(yield n.importExportService.getAllVendors()).docs.map(o=>(n.vendors[o.data().WSName.split(" ").join("-").toLowerCase()]={...o.data(),id:o.id},{...o.data(),id:o.id})),n.loader.dismiss()})()}addZSD(n,o,c,a){if(o=a.importExportService.formatShipment(o,c)){if(0===o.data.length)return void this.notification.showError(x.D.messages.zsdNoData);a.importExportService.addShipments(o,a,a.loader,a.notification),n.target.value=""}}addVendor(n,o,c,a){o=o.map(r=>({WSName:r["W/S Name"],WSCode:r["W/S Code"],postalCode:r["Postal Code"],WSTown:r["W/S Town"],panNo:r["PAN Number"],phoneNO:r["Phone Number"],GSTNo:r["GST Number"],shippingType:r["Shipping Type"],distance:r["Distance in km"],maxCreditLimit:r["Max Credit Limit"],vendorProfileImg:"",active:!0,pending:!1,createdAt:new Date,id:""})),console.log(o)}}return(e=p).\u0275fac=function(n){return new(n||e)(t.Y36(Z.g),t.Y36(v.s),t.Y36(C.g),t.Y36(s.HT),t.Y36(M.Y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-import-export"]],decls:41,vars:1,consts:[[1,"vendor-container"],["headerName","Import & Export"],[4,"ngIf"],[1,"container"],[1,"text"],[1,"import-container"],[1,"import"],["shape","round"],["for","uploadZSD"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20","fill","none"],["d","M3.33268 15.8333H16.666V10H18.3327V16.6667C18.3327 17.1269 17.9596 17.5 17.4993 17.5H2.49935C2.03912 17.5 1.66602 17.1269 1.66602 16.6667V10H3.33268V15.8333ZM10.8327 7.5V13.3333H9.16602V7.5H4.99935L9.99935 2.5L14.9993 7.5H10.8327Z","fill","#1540BD"],["type","file","id","uploadZSD",2,"display","none"],[1,"export"],["d","M10.8327 8.33333H14.9993L9.99935 13.3333L4.99935 8.33333H9.16602V2.5H10.8327V8.33333ZM3.33268 15.8333H16.666V10H18.3327V16.6667C18.3327 17.1269 17.9596 17.5 17.4993 17.5H2.49935C2.03912 17.5 1.66602 17.1269 1.66602 16.6667V10H3.33268V15.8333Z","fill","#1540BD"],["for","uploadVendor"],["type","file","id","uploadVendor","accept",".xlsx, .xls, .csv",2,"display","none",3,"change"],[1,"container","margin-top-0"],["type","file","id","uploadZSD","accept",".xlsx, .xls, .csv",2,"display","none",3,"change"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0),t._UZ(1,"app-header",1),t.YNc(2,S,19,0,"section",2),t.TgZ(3,"section")(4,"div",3)(5,"p",4),t._uU(6," Vehicle Master Dataset "),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"ion-button",7)(10,"label",8),t._uU(11," Import "),t.O4$(),t.TgZ(12,"svg",9),t._UZ(13,"path",10),t.qZA()()(),t.kcU(),t._UZ(14,"input",11),t.qZA(),t.TgZ(15,"div",12)(16,"ion-button",7)(17,"label",8),t._uU(18," Export Blank "),t.O4$(),t.TgZ(19,"svg",9),t._UZ(20,"path",13),t.qZA()()(),t.kcU(),t._UZ(21,"input",11),t.qZA()()()(),t.TgZ(22,"section")(23,"div",3)(24,"p",4),t._uU(25," Vendor Master Dataset "),t.qZA(),t.TgZ(26,"div",5)(27,"div",6)(28,"ion-button",7)(29,"label",14),t._uU(30," Import "),t.O4$(),t.TgZ(31,"svg",9),t._UZ(32,"path",10),t.qZA()()(),t.kcU(),t.TgZ(33,"input",15),t.NdJ("change",function(a){return o.excelUploadService.parseExcel(a,o.addVendor,o)}),t.qZA()(),t.TgZ(34,"div",12)(35,"ion-button",7)(36,"label",8),t._uU(37," Export Blank "),t.O4$(),t.TgZ(38,"svg",9),t._UZ(39,"path",13),t.qZA()()(),t.kcU(),t._UZ(40,"input",11),t.qZA()()()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",null==o.homeService.userAccessData?null:o.homeService.userAccessData.upload_new_zsd_file))},dependencies:[g.O5,s.YG,s.W2,E.G],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.vendor-container[_ngcontent-%COMP%]{--background: linear-gradient(180deg, #D5E6FF -8.94%, #FFF 27.36%, #FFF 61.93%, #C9DEFF 101.69%);--padding-top: 15px;--padding-bottom: 15px;--padding-start: 15px;--padding-end: 15px}.container[_ngcontent-%COMP%]{background-color:#ffffff9e;border:1px solid rgba(206,211,241,.5);filter:drop-shadow(0px 4px 10px rgba(53,122,248,.1));-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);padding:15px;border-radius:15px;margin-top:15px}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--Primary, #1540BD);font-size:16px;font-weight:400}.container[_ngcontent-%COMP%]   .import-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .import-container[_ngcontent-%COMP%]   .import[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .import-container[_ngcontent-%COMP%]   .export[_ngcontent-%COMP%]{width:48%}.margin-top-0[_ngcontent-%COMP%]{margin-top:0}ion-button[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;color:#1540bd;--background:white;--box-shadow: 0 2px 6px 0 rgb(0, 0, 0, .25);--ripple-color: #c9deff;--padding-top: 16px;--padding-bottom: 16px}ion-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}ion-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:6px}"]}),p})()}];let b=(()=>{var e;class p{}return(e=p).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(T),m.Bz]}),p})(),O=(()=>{var e;class p{}return(e=p).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,s.Pc,h.m,f.u5,b]}),p})()}}]);